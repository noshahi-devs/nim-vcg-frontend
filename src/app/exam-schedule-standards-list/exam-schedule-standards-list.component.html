<div class="dashboard-main-body">
  <app-breadcrumb [title]="title"></app-breadcrumb>

  <div class="card h-100 p-0 radius-12">
    <div class="card-body p-24">
      <form (ngSubmit)="onSubmit()">
        <div class="row gy-3 mb-3">
          <div class="col-md-6">
            <label class="form-label">Exam Schedule <span class="text-danger">*</span></label>
            <select class="form-control" [(ngModel)]="model.examScheduleId" name="examScheduleId">
              <option value="" disabled selected hidden>Select Exam Schedule</option>
              <option *ngFor="let examSchedule of examScheduleList" [value]="examSchedule.examScheduleId">{{ examSchedule.examScheduleName }}</option>
            </select>
          </div>
          <div class="col-md-6">
            <label class="form-label">Standard <span class="text-danger">*</span></label>
            <select class="form-control" [(ngModel)]="model.standardId" name="standardId">
              <option value="" disabled>Select Standard</option>
              <option *ngFor="let standard of standardList" [value]="standard.standardId">{{ standard.standardName }}</option>
            </select>
          </div>
        </div>

        <div class="card mt-3">
          <div class="card-body">
            <div class="d-flex justify-content-end mb-2">
              <button type="button" class="btn btn-info" (click)="addExamSubject()">Add Subject +</button>
            </div>

            <table class="table table-hover table-striped">
              <thead>
                <tr>
                  <th>Subject</th>
                  <th>Exam Type</th>
                  <th>Exam Date</th>
                  <th>Start Time</th>
                  <th>End Time</th>
                  <th>Delete</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let sub of model.examSubjects; let i = index">
                  <td>
                    <select class="form-control" [(ngModel)]="sub.subjectId" name="subject{{i}}">
                      <option value="" disabled selected hidden>Select Subject</option>
                      <option *ngFor="let subject of subjectList" [value]="subject.subjectId">{{ subject.subjectName }} ({{subject.subjectCode}})</option>
                    </select>
                  </td>
                  <td>
                    <select class="form-control" [(ngModel)]="sub.examTypeId" name="examType{{i}}">
                      <option value="" disabled selected hidden>Select Exam Type</option>
                      <option *ngFor="let type of examTypeList" [value]="type.examTypeId">{{ type.examTypeName }}</option>
                    </select>
                  </td>
                  <td><input type="date" class="form-control" [(ngModel)]="sub.examDate" name="examDate{{i}}"></td>
                  <td><input type="time" class="form-control" [(ngModel)]="sub.examStartTime" name="examStartTime{{i}}"></td>
                  <td><input type="time" class="form-control" [(ngModel)]="sub.examEndTime" name="examEndTime{{i}}"></td>
                  <td><button type="button" class="btn btn-warning" (click)="deleteExamSubject(i)">-</button></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="d-flex justify-content-end gap-2 mt-3">
          <button routerLink="/examScheduleStandard" type="button" class="btn btn-secondary">Back to List</button>
          <button type="submit" class="btn btn-success">Save</button>
        </div>

      </form>
    </div>
  </div>
</div>
